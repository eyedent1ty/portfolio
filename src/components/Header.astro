---
import myProfile from '../assets/my-profile.jpg';
---

<section id="header" class="px-5 py-14 h-screen">
  <main class="relative h-full">
    <span
      id="my-name"
      class="absolute italic left-0 top-0 -translate-y-3 -translate-x-40 transition-transform ease-out duration-1000 sm:text-lg md:text-xl xl:text-2xl 2xl:text-3xl"
      >John Daniel</span
    >
    <figure
      class="absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 lg:static lg:translate-x-0 lg:translate-y-0"
    >
      <figcaption>
        <h1
          id="my-vision"
          class="text-4xl text-center translate-y-18 opacity-0 transition-all ease-out duration-1000 z-50 sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl 2xl:9xl"
        >
          <span class="uppercase block">Aspirer</span>
          <span class="uppercase block">Dreamer</span>
          <span class="uppercase block">Developer</span>
        </h1>
      </figcaption>
      <img
        id="my-picture"
        class="h-40 mx-auto sm:h-52 md:h-64 lg:h-72 xl:h-82 2xl:h-96"
        src={myProfile.src}
        alt="Picture of myself smiling"
      />
    </figure>
    <span
      id="my-role"
      class="absolute right-0 bottom-0 translate-y-10 translate-x-40 transition-transform ease-out duration-1000 sm:text-lg md:text-xl lg:right-0 lg:top-0 lg:-translate-y-3 xl:text-2xl 2xl:text-3xl"
      >Developer</span
    >
  </main>
  <script>
    const myName = document.getElementById('my-name');
    const myRole = document.getElementById('my-role');
    const myVision = document.getElementById('my-vision');
    const myPicture = document.getElementById('my-picture');

    const intersectionObserver = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          myName.classList.remove('-translate-x-40');
          myRole.classList.remove('translate-x-40');
          myVision.classList.remove('opacity-0', 'translate-y-18');
          myVision.classList.add('translate-y-6', 'opacity-1');
        } else {
          myName.classList.add('-translate-x-40');
          myRole.classList.add('translate-x-40');
          myVision.classList.add('opacity-0', 'translate-y-18');
          myVision.classList.remove('translate-y-6', 'opacity-1');
        }
      });
    });

    const hiddenElements = [myName, myRole, myVision, myPicture];
    hiddenElements.forEach((hiddenElement) =>
      intersectionObserver.observe(hiddenElement)
    );
  </script>
</section>
